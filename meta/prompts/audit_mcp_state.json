{
  "task": "Audit synesthetic-mcp repo state",
  "objective": "Compare the current implementation of synesthetic-mcp against its founding prompt (meta/prompts/init_mcp_repo.json) and current spec (docs/mcp_spec.md). Identify alignment, gaps, and drift, then generate a clear audit report at meta/output/mcp_state.md.",
  "constraints": {
    "style": "deterministic, concise, structured in Markdown",
    "sections": [
      "Summary of repo state",
      "Alignment with init prompt",
      "Alignment with spec",
      "Detected gaps or deviations",
      "Recommendations (next steps)"
    ],
    "scope": {
      "files": [
        "README.md",
        "docs/mcp_spec.md",
        "meta/prompts/init_mcp_repo.json",
        "requirements.txt",
        "mcp/*.py",
        "tests/*.py"
      ],
      "focus": [
        "io_contracts implementation",
        "error model compliance",
        "determinism rules",
        "schema/example discovery (submodule-first, no local fixtures)",
        "nested-synesthetic-asset alias handling",
        "backend env gating (SYN_BACKEND_URL)",
        "test coverage vs prompt requirements",
        "packaging (requirements.txt only, no drift)"
      ]
    },
    "output": {
      "path": "meta/output/mcp_state.md",
      "format": "Markdown with headings and bullet lists"
    }
  },
  "exit_criteria": [
    "meta/output/mcp_state.md exists",
    "Report compares repo against both init prompt and spec",
    "Gaps and deviations are clearly marked with actionable notes"
  ]
}
