{
  "task": "Audit synesthetic-mcp repo",
  "objective": "Compare actual implementation and tests against init reference (meta/prompts/init_mcp_repo.json) and spec (docs/mcp_spec.md). Report only what is present, missing, or intentionally divergent.",
  "files": [
    "README.md", "docs/mcp_spec.md",
    "requirements.txt", "mcp/*.py",
    "tests/*.py", ".github/workflows/*"
  ],
  "constraints": {
    "style": "deterministic, terse, Markdown headings with bullet points or tables",
    "rules": [
      "Ground all findings in visible code or tests",
      "Mark functionality not present as Missing",
      "Mark intentional design differences as Divergent",
      "No speculation about unseen behavior",
      "Recommendations must be actionable code/test/doc changes only",
      "Check functions, tests, schema discovery, validation, backend env gating, error handling, diff, entrypoints, deps"
    ],
    "sections": [
      "Summary of repo state (high-level files, deps, submodule presence)",
      "Top gaps & fixes (3-5 bullets up front)",
      "Alignment with init prompt (bullet list, file:line evidence)",
      "Alignment with spec (table: Spec item → Status → Evidence)",
      "Test coverage and CI (table: Feature → Tested? → Evidence)",
      "Dependencies and runtime (table: Package → Used in → Required/Optional)",
      "Environment variables (bullets: name, default, fallback behavior)",
      "Documentation accuracy (bullets: README vs. code)",
      "Detected divergences (prompt vs. spec vs. code)",
      "Recommendations (concrete next steps)"
    ]
  },
  "output": {
    "path": "meta/output/mcp_state.md",
    "format": "Markdown"
  },
  "exit_criteria": [
    "meta/output/mcp_state.md exists"
  ]
}
